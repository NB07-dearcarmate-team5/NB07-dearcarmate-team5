paths:
  /cars/models:
    get:
      tags:
        - Car
      summary: 제조사별 차량 모델 목록 조회
      description: 시스템에 등록된 모든 제조사와 해당 제조사의 모델 리스트를 조회합니다.
      responses:
        200:
          description: 성공적으로 목록을 반환함
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/ManufacturerModels'
              example:
                data:
                  - manufacturer: "기아"
                    model: ["K3", "K5", "K7", "K9", "K8"]
                  - manufacturer: "현대"
                    model: ["그랜저", "아반떼", "소나타", "투싼", "베뉴"]
        400:
          description: 잘못된 요청
        401:
          description: 로그인 필요

  /cars:
    post:
      tags:
        - Car
      summary: 신규 차량 등록
      description: 새로운 차량의 번호와 모델 정보를 등록합니다. (Bearer 토큰 필요)
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CarCreateRequest'
      responses:
        201:
          description: 차량 등록 성공
        400:
          description: 잘못된 요청
        401:
          description: 로그인 필요
    
    get:
      tags:
        - Car
      summary: 보유 차량 목록 조회
      description: 현재 시스템에 등록된 모든 차량 리스트를 조회합니다.
      parameters:
        - in: query
          name: modelName
          schema:
            type: string
          example: "그랜저"
          description: 모델명으로 검색할 때 사용합니다.
      responses:
        200:
          description: 성공적으로 목록을 반환함
        400:
          description: 잘못된 요청
        401:
          description: 로그인 필요


  /cars/{id}:
    get:
      tags:
        - Car
      summary: 차량 상세 정보 조회
      description: 특정 차량 ID를 통해 상세 정보를 조회합니다.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          example: "car_001"
      responses:
        200:
          description: 조회 성공
        401:
          description: 로그인 필요
        404:
          description: 존재하지 않는 차량 ID

    patch:
      tags:
        - Car
      summary: 차량 정보 수정
      description: 차량의 주행거리나 상태 정보를 업데이트합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          example: "car_001"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CarUpdateRequest'
      responses:
        200:
          description: 정보 수정 완료
        400:
          description: 잘못된 요청
        401:
          description: 로그인 필요
        404:
          description: 존재하지 않는 차량 ID

    delete:
      tags:
        - Car
      summary: 차량 정보 삭제
      description: 특정 차량 정보를 시스템에서 제거합니다.
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        204:
          description: 삭제 성공
        401:
          description: 로그인 필요
        404:
          description: 존재하지 않는 차량 ID

components:
  schemas:
    CarCreateRequest:
      type: object
      required:
        - carNumber
        - modelName
      properties:
        carNumber:
          type: string
          description: 차량 번호
          example: "12가 3456"
        modelName:
          type: string
          description: 차량 모델명
          example: "쏘나타"
        productionYear:
          type: integer
          description: 제작 연도
          example: 2024
    
    CarUpdateRequest:
      type: object
      properties:
        mileage:
          type: integer
          description: 누적 주행 거리
          example: 15000
        status:
          type: string
          description: "상태값: AVAILABLE, REPAIRING, RENTED 등"
          example: "AVAILABLE"
